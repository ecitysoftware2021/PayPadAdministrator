@model List<PayPlusModels.ModuleViewModel>

@{
    ViewBag.Title = "Mapa del Dashboard";
}

<div class="row">
    <div class="col-sm-12">
        <div class="card-box">
            <h4 class="m-t-0 header-title"><b>Mapa del Dashboard</b></h4>
            <p class="text-muted m-b-20 font-13">
                Decripción del sitio
            </p>
            <p>
                <a href="@Url.Action("CreateModule")" class="btn btn-default waves-effect waves-light">
                    <i class="fa fa-plus-circle m-r-5"></i> <span>Crear Nuevo</span>
                </a>
            </p>
            <div class="row">
                <div class="col-md-4">
                    <div class="sitemap-wrapper">
                        @foreach (var module in Model)
                        {
                        <h5>
                            <a href="#"><i class="@module.Module.ICON"></i>
                            @module.Module.DESCRIPTION</a>  --------------                          
                            <a href="@Url.Action("CreateSubModule", new {id = module.Module.MODULE_ID })"
                               data-placement="top" data-toggle="tooltip" class="tooltips dialog-window" data-original-title="Crear SubMódulo">
                                <i class="fa fa-plus-circle"></i>
                            </a>
                        </h5>

                            <ul class="list-unstyled">
                                @foreach (var subModules in module.SubModules)
                                {
                                    <li><a href="/@subModules.URL"><i class="@subModules.ICON"></i>@subModules.DESCRIPTION</a></li>
                                }
                            </ul>
                        }
                    </div>
                </div>

                @*<div class="col-md-4">
                        <div class="sitemap-wrapper">

                            <h5><a href="#"><i class="md md-account-box"></i> Usuarios </a></h5>

                            <ul class="list-unstyled">
                                <li><a href="@Url.Action("SuperAdministrators","Users")">Super Administradores</a></li>
                                <li><a href="@Url.Action("Administrators","Users")">Administradores</a></li>
                                <li><a href="@Url.Action("Responsible","Users")">Responsables</a></li>
                                <li><a href="@Url.Action("Responsible","Users")">Crear Usuario</a></li>
                            </ul>


                            <h5><a href="#"><i class="md md-menu"></i> Módulos </a></h5>

                            <ul class="list-unstyled">
                                <li><a href="@Url.Action("Index","Modules")">Menús</a></li>
                                <li><a href="@Url.Action("Index","Modules")">Crear Menú</a></li>
                            </ul>


                            <h5><a href="#"><i class="md md-poll"></i> Charts </a></h5>

                            <ul class="list-unstyled">
                                <li><a href="chart-flot.html">Flot Chart</a></li>
                                <li><a href="chart-morris.html">Morris Chart</a></li>
                                <li><a href="chart-chartjs.html">Chartjs</a></li>
                                <li><a href="chart-peity.html">Peity Charts</a></li>
                                <li><a href="chart-chartist.html">Chartist Charts</a></li>
                                <li><a href="chart-c3.html">C3 Charts</a></li>
                                <li><a href="chart-nvd3.html"> Nvd3 Charts</a></li>
                                <li><a href="chart-sparkline.html">Sparkline charts</a></li>
                                <li><a href="chart-radial.html">Radial charts</a></li>
                                <li><a href="chart-other.html">Other Chart</a></li>
                            </ul>


                            <h5><a href="#"><i class="md md-place"></i> Maps </a></h5>

                            <ul class="list-unstyled">
                                <li><a href="map-google.html"> Google Map</a></li>
                                <li><a href="map-vector.html"> Vector Map</a></li>
                            </ul>

                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="sitemap-wrapper">

                            <h5><a href="#"><i class="md md-pages"></i> Pages </a></h5>

                            <ul class="list-unstyled">
                                <li><a href="page-starter.html">Starter Page</a></li>
                                <li><a href="page-login.html">Login</a></li>
                                <li><a href="page-login-v2.html">Login v2</a></li>
                                <li><a href="page-register.html">Register</a></li>
                                <li><a href="page-register-v2.html">Register v2</a></li>
                                <li><a href="page-signup-signin.html">Signin - Signup</a></li>
                                <li><a href="page-recoverpw.html">Recover Password</a></li>
                                <li><a href="page-lock-screen.html">Lock Screen</a></li>
                                <li><a href="page-400.html">Error 400</a></li>
                                <li><a href="page-403.html">Error 403</a></li>
                                <li><a href="page-404.html">Error 404</a></li>
                                <li><a href="page-404_alt.html">Error 404-alt</a></li>
                                <li><a href="page-500.html">Error 500</a></li>
                                <li><a href="page-503.html">Error 503</a></li>
                            </ul>


                            <h5><a href="#"><i class="md md-share"></i> Extras </a></h5>

                            <ul class="list-unstyled">
                                <li><a href="extra-profile.html">Profile</a></li>
                                <li><a href="extra-timeline.html">Timeline</a></li>
                                <li><a href="extra-sitemap.html">Site map</a></li>
                                <li><a href="extra-invoice.html">Invoice</a></li>
                                <li><a href="extra-email-template.html">Email template</a></li>
                                <li><a href="extra-maintenance.html">Maintenance</a></li>
                                <li><a href="extra-coming-soon.html">Coming-soon</a></li>
                                <li><a href="extra-faq.html">FAQ</a></li>
                                <li><a href="extra-search-result.html">Search result</a></li>
                                <li><a href="extra-gallery.html">Gallery</a></li>
                                <li><a href="extra-pricing.html">Pricing</a></li>
                            </ul>


                            <h5><a href="#"><i class="md md-share"></i> Apps </a></h5>

                            <ul class="list-unstyled">
                                <li><a href="apps-inbox.html"> Email</a></li>
                                <li><a href="apps-calendar.html"> Calendar</a></li>
                                <li><a href="apps-contact.html"> Contact</a></li>
                            </ul>

                        </div>
                    </div>*@
            </div>
        </div>
    </div>
</div>


@section Scripts {    
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript">
        $(document).ready(function () {
            $("body").on("click", "a.dialog-window", null, function (e) {
                e.preventDefault();
                var $link = $(this);
                var title = "Crear SubMódulo";
                $('#Details .modal-title').html(title);
                var url = $(this).attr('href');
                if (url.indexOf('#') == 0) {
                    $('#Details').modal('show');
                }
                else {
                    $.get(url, function (data) {
                        $('#Details .te').html(data);
                        $('#Details').modal();
                    }).success(function () { 

                        $('input:text:visible:first').focus(); 
        
                    });

                }
            });
        });
    </script>
}

<div class="modal fade" id="Details" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="false">
    <div class="modal-dialog" style="width: 970px !important;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title"></h4>
            </div>
            <div class="modal-body"><div class="te">Please wait...</div></div>
        </div>
    </div>
</div>